{"title":"Pyinstaller打包问题","uid":"261aff93f4c2c215eea5cbd52db7f4cd","slug":"Pyinstaller打包问题","date":"2023-05-14T05:14:15.000Z","updated":"2024-02-22T03:52:13.945Z","comments":true,"path":"api/articles/Pyinstaller打包问题.json","keywords":"计算机技术,大数据,人工智能","cover":null,"content":"<h2 id=\"1-Windows7-适配问题\"><a href=\"#1-Windows7-适配问题\" class=\"headerlink\" title=\"1 Windows7 适配问题\"></a>1 Windows7 适配问题</h2><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\" onclick=\"copyCode(this)\"></button><span class=\"lang\">txt</span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">LoadLibrary: PyInstaller FormatMessageW failed.</span></span></code></pre></div><p>python 3.9 开始不再适配win 7，如果软件要在 win 7上运行，python环境最高是3.8</p>\n<h2 id=\"2-win7-缺失的动态运行加载库\"><a href=\"#2-win7-缺失的动态运行加载库\" class=\"headerlink\" title=\"2 win7 缺失的动态运行加载库\"></a>2 win7 缺失的动态运行加载库</h2><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\" onclick=\"copyCode(this)\"></button><span class=\"lang\">txt</span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">无法启动此程序,因为计算机中丢失api-ms-win-core-path-l1-1-0.dll尝试重新安装该程序以解决此问题。</span></span></code></pre></div><p>缺啥补啥，把<a href=\"https://cn.dll-files.com/download/0ed28b807adb89aa37f9b3c057134f4a/api-ms-win-core-path-l1-1-0.dll.html?c=bGlQczUrbGJpTFp2SWp0K3JvZ0lGUT09\">DLL文件</a>放入程序根目录文件夹，或者放到<code>C:/windows/System32</code>下。不过一般这个问题不会单独出现，是由于pyinstaller打包的时候，一些动态加载的库没被放进来。</p>\n<h2 id=\"3-QT动态加载的部分缺失\"><a href=\"#3-QT动态加载的部分缺失\" class=\"headerlink\" title=\"3 QT动态加载的部分缺失\"></a>3 QT动态加载的部分缺失</h2><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\" onclick=\"copyCode(this)\"></button><span class=\"lang\">txt</span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">ImportError: DLL load failed while import ing QtGui:</span></span></code></pre></div><p>解决方法一：把环境中<code>Sitepackages/QtGui</code>放到程序根文件夹<br>解决方法二：使用打包命令<code>pyinstaller main.py --noconsole --hidden-import PySide6.QtXml -F -p C:\\Windows\\System32\\downlevel -p C:\\Windows\\System32</code> 通过指定<code>hidden-import</code>手动加载缺少的模块</p>\n<h2 id=\"4-pyinstaller-could-not-get-source-code\"><a href=\"#4-pyinstaller-could-not-get-source-code\" class=\"headerlink\" title=\"4 pyinstaller could not get source code\"></a>4 <code>pyinstaller could not get source code</code></h2><p>在报错日志里倒着找，把缺少的环境包手动复制到程序根目录，也可以<code>hidden-import</code>在打包时指定导入缺失的这些包</p>\n","text":"1 Windows7 适配问题txtLoadLibrary: PyInstaller FormatMessageW failed.python 3.9 开始不再...","link":"","photos":[],"count_time":{"symbolsCount":661,"symbolsTime":"1 mins."},"categories":[{"name":"技术帖子","slug":"技术帖子","count":4,"path":"api/categories/技术帖子.json"}],"tags":[{"name":"技术帖子","slug":"技术帖子","count":1,"path":"api/tags/技术帖子.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-Windows7-%E9%80%82%E9%85%8D%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">1 Windows7 适配问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-win7-%E7%BC%BA%E5%A4%B1%E7%9A%84%E5%8A%A8%E6%80%81%E8%BF%90%E8%A1%8C%E5%8A%A0%E8%BD%BD%E5%BA%93\"><span class=\"toc-text\">2 win7 缺失的动态运行加载库</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-QT%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E7%9A%84%E9%83%A8%E5%88%86%E7%BC%BA%E5%A4%B1\"><span class=\"toc-text\">3 QT动态加载的部分缺失</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-pyinstaller-could-not-get-source-code\"><span class=\"toc-text\">4 pyinstaller could not get source code</span></a></li></ol>","author":{"name":"以太工坊","slug":"blog-author","avatar":"/img/logo.png","link":"/","description":"分享我的课程学习笔记、经验与有趣的小玩意.图片等资源无法加载时请使用代理","socials":{"github":"https://github.com/Tim-Saijun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/img/telegram.svg","link":"https://t.me/tim_run"},"Email":{"icon":"/img/mail.svg","link":"mailto:b@zair.top"},"RSS":{"icon":"/img/rss.svg","link":"/atom.xml"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"机器学习复习笔记","uid":"23652f54d2e04c40370b3c92df2611e1","slug":"机器学习复习笔记","date":"2023-05-24T12:51:11.000Z","updated":"2024-02-22T03:52:13.965Z","comments":true,"path":"api/articles/机器学习复习笔记.json","keywords":"计算机技术,大数据,人工智能","cover":[],"text":"参考笔记一 代码向 1. 绪论机器学习的概念不需要确定性编程就可以赋予机器某项技能Performance Task Experience，程序使用E在T上获得了...","link":"","photos":[],"count_time":{"symbolsCount":"4.7k","symbolsTime":"4 mins."},"categories":[{"name":"机器学习","slug":"机器学习","count":5,"path":"api/categories/机器学习.json"}],"tags":[{"name":"学习笔记","slug":"学习笔记","count":17,"path":"api/tags/学习笔记.json"}],"author":{"name":"以太工坊","slug":"blog-author","avatar":"/img/logo.png","link":"/","description":"分享我的课程学习笔记、经验与有趣的小玩意.图片等资源无法加载时请使用代理","socials":{"github":"https://github.com/Tim-Saijun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/img/telegram.svg","link":"https://t.me/tim_run"},"Email":{"icon":"/img/mail.svg","link":"mailto:b@zair.top"},"RSS":{"icon":"/img/rss.svg","link":"/atom.xml"}}}}},"next_post":{"title":"并行计算复习课","uid":"339231bc7dd528f94b3eb2f74a68d4df","slug":"并行计算复习课","date":"2023-05-11T08:38:15.000Z","updated":"2024-02-22T03:52:13.965Z","comments":true,"path":"api/articles/并行计算复习课.json","keywords":"计算机技术,大数据,人工智能","cover":[],"text":"复习课第一章 Amdal 定律 对定律的理解（任务不变的情况下，速度的提升、加速比）、加速的极限应用题 6’*5网格和线程块的布局，计算全局id并行、并发、线程...","link":"","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"大数据","slug":"大数据","count":11,"path":"api/categories/大数据.json"}],"tags":[{"name":"学习笔记","slug":"学习笔记","count":17,"path":"api/tags/学习笔记.json"}],"author":{"name":"以太工坊","slug":"blog-author","avatar":"/img/logo.png","link":"/","description":"分享我的课程学习笔记、经验与有趣的小玩意.图片等资源无法加载时请使用代理","socials":{"github":"https://github.com/Tim-Saijun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/img/telegram.svg","link":"https://t.me/tim_run"},"Email":{"icon":"/img/mail.svg","link":"mailto:b@zair.top"},"RSS":{"icon":"/img/rss.svg","link":"/atom.xml"}}}}}}