{"title":"HDFS无法访问问题","uid":"5effef9964d08a5f1e7458f8f066fb6c","slug":"HDFS无法访问问题","date":"2022-12-19T08:00:00.000Z","updated":"2024-02-22T03:52:13.945Z","comments":true,"path":"api/articles/HDFS无法访问问题.json","keywords":"计算机技术,大数据,人工智能","cover":null,"content":"<h2 id=\"问题描述\"><a href=\"#问题描述\" class=\"headerlink\" title=\"问题描述\"></a>问题描述</h2><p>三个datanode、一个namenode和一个secondary namenode组成的hadoop集群，输入命令查看状态如下，一切正常。</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\" onclick=\"copyCode(this)\"></button><span class=\"lang\">shell</span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">(</span><span style=\"color: #50FA7B\">base</span><span style=\"color: #F8F8F2\">) root@node4:</span><span style=\"color: #FF79C6\">~</span><span style=\"color: #F8F8F2\"># hdfs dfsadmin -report</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">Configured</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Capacity:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">168292061184</span><span style=\"color: #F8F8F2\"> (156.73 </span><span style=\"color: #F1FA8C\">GB</span><span style=\"color: #F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">Present</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Capacity:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">128058142720</span><span style=\"color: #F8F8F2\"> (119.26 </span><span style=\"color: #F1FA8C\">GB</span><span style=\"color: #F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">DFS</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Remaining:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">128058011648</span><span style=\"color: #F8F8F2\"> (119.26 </span><span style=\"color: #F1FA8C\">GB</span><span style=\"color: #F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">DFS</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Used:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">131072</span><span style=\"color: #F8F8F2\"> (128 </span><span style=\"color: #F1FA8C\">KB</span><span style=\"color: #F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">DFS</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Used%:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0.00</span><span style=\"color: #F1FA8C\">%</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">Replicated</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Blocks:</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Under</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">replicated</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Blocks</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">with</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">corrupt</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">replicas:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Missing</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Missing</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks</span><span style=\"color: #F8F8F2\"> (with </span><span style=\"color: #F1FA8C\">replication</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">factor</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">1</span><span style=\"color: #F8F8F2\">): 0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Low</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">redundancy</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">with</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">highest</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">priority</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">to</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">recover:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Pending</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">deletion</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">Erasure</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Coded</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Block</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Groups:</span><span style=\"color: #F8F8F2\"> </span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Low</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">redundancy</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">block</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">groups:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Block</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">groups</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">with</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">corrupt</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">internal</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Missing</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">block</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">groups:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Low</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">redundancy</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">with</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">highest</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">priority</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">to</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">recover:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">    </span><span style=\"color: #50FA7B\">Pending</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">deletion</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">blocks:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">-------------------------------------------------</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">Live</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">datanodes</span><span style=\"color: #F8F8F2\"> (3):</span></span></code></pre></div><p>是的，看起来没什么问题。但是HDFS的web页面50070无法访问，HDFS文件端口9000也无法访问使用，排除防火墙和安全组等问题后，检查所有的服务端口：</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\" onclick=\"copyCode(this)\"></button><span class=\"lang\">shell</span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">(</span><span style=\"color: #50FA7B\">base</span><span style=\"color: #F8F8F2\">) root@node4:</span><span style=\"color: #FF79C6\">~</span><span style=\"color: #F8F8F2\"># netstat -lntp</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">Active</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Internet</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">connections</span><span style=\"color: #F8F8F2\"> (only </span><span style=\"color: #F1FA8C\">servers</span><span style=\"color: #F8F8F2\">)</span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">Proto</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Recv-Q</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Send-Q</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Local</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Address</span><span style=\"color: #F8F8F2\">           </span><span style=\"color: #F1FA8C\">Foreign</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">Address</span><span style=\"color: #F8F8F2\">         </span><span style=\"color: #F1FA8C\">State</span><span style=\"color: #F8F8F2\">       </span><span style=\"color: #F1FA8C\">PID/Program</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">name</span><span style=\"color: #F8F8F2\">    </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">127.0</span><span style=\"color: #F1FA8C\">.0.53:53</span><span style=\"color: #F8F8F2\">           </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">516</span><span style=\"color: #F1FA8C\">/systemd-resolve</span><span style=\"color: #F8F8F2\"> </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:22</span><span style=\"color: #F8F8F2\">              </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">1460</span><span style=\"color: #F1FA8C\">/sshd:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">/usr/sbi</span><span style=\"color: #F8F8F2\"> </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">192.168</span><span style=\"color: #F1FA8C\">.0.165:8088</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">111907</span><span style=\"color: #F1FA8C\">/java</span><span style=\"color: #F8F8F2\">         </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">127.0</span><span style=\"color: #F1FA8C\">.0.1:6010</span><span style=\"color: #F8F8F2\">          </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">107217</span><span style=\"color: #F1FA8C\">/sshd:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">root@p</span><span style=\"color: #F8F8F2\"> </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">127.0</span><span style=\"color: #F1FA8C\">.0.1:6011</span><span style=\"color: #F8F8F2\">          </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">110809</span><span style=\"color: #F1FA8C\">/sshd:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">root@p</span><span style=\"color: #F8F8F2\"> </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">127.0</span><span style=\"color: #F1FA8C\">.0.1:6013</span><span style=\"color: #F8F8F2\">          </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">105767</span><span style=\"color: #F1FA8C\">/sshd:</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #F1FA8C\">root@p</span><span style=\"color: #F8F8F2\"> </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">192.168</span><span style=\"color: #F1FA8C\">.0.165:8030</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">111907</span><span style=\"color: #F1FA8C\">/java</span><span style=\"color: #F8F8F2\">         </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">192.168</span><span style=\"color: #F1FA8C\">.0.165:8031</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">111907</span><span style=\"color: #F1FA8C\">/java</span><span style=\"color: #F8F8F2\">         </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">192.168</span><span style=\"color: #F1FA8C\">.0.165:8032</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">111907</span><span style=\"color: #F1FA8C\">/java</span><span style=\"color: #F8F8F2\">         </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">192.168</span><span style=\"color: #F1FA8C\">.0.165:8033</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">111907</span><span style=\"color: #F1FA8C\">/java</span><span style=\"color: #F8F8F2\">         </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">192.168</span><span style=\"color: #F1FA8C\">.0.165:9000</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">111496</span><span style=\"color: #F1FA8C\">/java</span><span style=\"color: #F8F8F2\">         </span></span>\n<span class=\"line\"><span style=\"color: #50FA7B\">tcp</span><span style=\"color: #F8F8F2\">        </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">0</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:9870</span><span style=\"color: #F8F8F2\">            </span><span style=\"color: #BD93F9\">0.0</span><span style=\"color: #F1FA8C\">.0.0:</span><span style=\"color: #BD93F9; font-style: italic\">*</span><span style=\"color: #F8F8F2\">               </span><span style=\"color: #F1FA8C\">LISTEN</span><span style=\"color: #F8F8F2\">      </span><span style=\"color: #BD93F9\">111496</span><span style=\"color: #F1FA8C\">/java</span><span style=\"color: #F8F8F2\">         </span></span>\n<span class=\"line\"></span></code></pre></div><p>两个问题：</p>\n<ol>\n<li>50070端口不在列表里</li>\n<li>9000开到内网ip上去了</li>\n</ol>\n<p>问题1：</p>\n<p>经过仔细排查，发现时代变了，Hadoop 2.x HDFS WEB端口是50070， Hadoop 3.x 就变成了9870.</p>\n<p>问题2：</p>\n<p>配置文件中手动打开</p>\n<div class=\"language-xml\"><button title=\"Copy code\" class=\"copy\" onclick=\"copyCode(this)\"></button><span class=\"lang\">xml</span><pre class=\"shiki dracula\" style=\"background-color: #282A36\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F8F8F2\">&lt;</span><span style=\"color: #FF79C6\">configuration</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">        &lt;</span><span style=\"color: #FF79C6\">property</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">                 &lt;</span><span style=\"color: #FF79C6\">name</span><span style=\"color: #F8F8F2\">&gt;fs.defaultFS&lt;/</span><span style=\"color: #FF79C6\">name</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">                 &lt;</span><span style=\"color: #FF79C6\">value</span><span style=\"color: #F8F8F2\">&gt;hdfs://0.0.0.0:9000&lt;/</span><span style=\"color: #FF79C6\">value</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">         &lt;/</span><span style=\"color: #FF79C6\">property</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">         &lt;</span><span style=\"color: #FF79C6\">property</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">                 &lt;</span><span style=\"color: #FF79C6\">name</span><span style=\"color: #F8F8F2\">&gt;hadoop.tmp.dir&lt;/</span><span style=\"color: #FF79C6\">name</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">                 &lt;</span><span style=\"color: #FF79C6\">value</span><span style=\"color: #F8F8F2\">&gt;file:/usr/hadoop/tmp&lt;/</span><span style=\"color: #FF79C6\">value</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">                 &lt;</span><span style=\"color: #FF79C6\">description</span><span style=\"color: #F8F8F2\">&gt;Abase for other temporary directories.&lt;/</span><span style=\"color: #FF79C6\">description</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">         &lt;/</span><span style=\"color: #FF79C6\">property</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #F8F8F2\">&lt;/</span><span style=\"color: #FF79C6\">configuration</span><span style=\"color: #F8F8F2\">&gt;</span></span>\n<span class=\"line\"></span></code></pre></div>","text":"问题描述三个datanode、一个namenode和一个secondary namenode组成的hadoop集群，输入命令查看状态如下，一切正常。 shell...","link":"","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"大数据","slug":"大数据","count":11,"path":"api/categories/大数据.json"}],"tags":[{"name":"Hadoop","slug":"Hadoop","count":2,"path":"api/tags/Hadoop.json"},{"name":"HDFS","slug":"HDFS","count":1,"path":"api/tags/HDFS.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%97%AE%E9%A2%98%E6%8F%8F%E8%BF%B0\"><span class=\"toc-text\">问题描述</span></a></li></ol>","author":{"name":"以太工坊","slug":"blog-author","avatar":"/img/logo.png","link":"/","description":"分享我的课程学习笔记、经验与有趣的小玩意.图片等资源无法加载时请使用代理","socials":{"github":"https://github.com/Tim-Saijun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/img/telegram.svg","link":"https://t.me/tim_run"},"Email":{"icon":"/img/mail.svg","link":"mailto:b@zair.top"},"RSS":{"icon":"/img/rss.svg","link":"/atom.xml"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"Obsidian+Hexo+Github全自动部署博客","uid":"3136cbf4b69b5e1b628e2f41c689c5a1","slug":"Obsidian+Hexo+Github全自动部署博客","date":"2023-01-11T14:09:32.000Z","updated":"2024-02-22T03:52:13.945Z","comments":true,"path":"api/articles/Obsidian+Hexo+Github全自动部署博客.json","keywords":"计算机技术,大数据,人工智能","cover":null,"text":"参考文章文章一：知乎 ","link":"","photos":[],"count_time":{"symbolsCount":11,"symbolsTime":"1 mins."},"categories":[{"name":"技术贴士","slug":"技术贴士","count":1,"path":"api/categories/技术贴士.json"}],"tags":[{"name":"博客","slug":"博客","count":2,"path":"api/tags/博客.json"}],"author":{"name":"以太工坊","slug":"blog-author","avatar":"/img/logo.png","link":"/","description":"分享我的课程学习笔记、经验与有趣的小玩意.图片等资源无法加载时请使用代理","socials":{"github":"https://github.com/Tim-Saijun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/img/telegram.svg","link":"https://t.me/tim_run"},"Email":{"icon":"/img/mail.svg","link":"mailto:b@zair.top"},"RSS":{"icon":"/img/rss.svg","link":"/atom.xml"}}}}},"next_post":{"title":"Flink重写watermark","uid":"42e97344b39e28a5e2b53d7a94abab91","slug":"Flink重写Watermark","date":"2022-11-30T08:00:00.000Z","updated":"2024-02-22T03:52:13.945Z","comments":true,"path":"api/articles/Flink重写Watermark.json","keywords":"计算机技术,大数据,人工智能","cover":null,"text":"问题 时间信息是形如”2022&#x2F;10&#x2F;22 10:34”的字符串，怎样针对这种时间信息，为Flink重写assignTimestampsAn...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"大数据","slug":"大数据","count":11,"path":"api/categories/大数据.json"}],"tags":[{"name":"Flink","slug":"Flink","count":1,"path":"api/tags/Flink.json"}],"author":{"name":"以太工坊","slug":"blog-author","avatar":"/img/logo.png","link":"/","description":"分享我的课程学习笔记、经验与有趣的小玩意.图片等资源无法加载时请使用代理","socials":{"github":"https://github.com/Tim-Saijun","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"telegram":{"icon":"/img/telegram.svg","link":"https://t.me/tim_run"},"Email":{"icon":"/img/mail.svg","link":"mailto:b@zair.top"},"RSS":{"icon":"/img/rss.svg","link":"/atom.xml"}}}}}}